<section class="search-section">
  <div class="container">
    <!-- Header Section -->
    <div class="header-section">
      <h1 class="main-title">
        Find & Book Health Services Online
      </h1>
      <p class="subtitle">
        All your healthcare in one place.
      </p>
      <p class="description">
        HealthTestGenius helps you find the health treatments you need by connecting you with the UK's leading private providers.
      </p>
    </div>

    <!-- Search Form -->
    <div class="search-form-container">
      <div class="search-form">
        
        <!-- Health Service Dropdown -->
        <div class="form-field dropdown-field">
          <label class="field-label">Choose a health service*</label>
          <select 
            [(ngModel)]="selectedService"
            (ngModelChange)="onServiceChange()"
            class="service-select">
            <option value="">Please select</option>
            <option *ngFor="let service of healthServices" [value]="service.value">
              {{ service.label }}
            </option>
          </select>

          <!-- Sub-option Selection -->
          <select 
            *ngIf="selectedService && subOptions.length > 0"
            [(ngModel)]="selectedSubOption"
            class="sub-service-select">
            <option value="">{{ getSubOptionPlaceholder() }}</option>
            <option *ngFor="let option of subOptions" [value]="option.value">
              {{ option.label }}
            </option>
          </select>
        </div>

        <!-- At Home / In Clinic Toggle -->
        <div class="form-field toggle-field">
          <div class="delivery-toggle">
            <button 
              type="button"
              (click)="selectedDeliveryType = 'at-home'"
              [class.active]="selectedDeliveryType === 'at-home'"
              class="toggle-option">
              At Home
            </button>
            <button 
              type="button"
              (click)="selectedDeliveryType = 'in-clinic'"
              [class.active]="selectedDeliveryType === 'in-clinic'"
              class="toggle-option">
              In Clinic
            </button>
          </div>
        </div>

        <!-- Location Input -->
        <div class="form-field location-field">
          <div class="location-input-wrapper">
            <svg class="location-pin-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
            <input 
              type="text"
              [(ngModel)]="selectedLocation"
              placeholder="Enter location"
              class="location-input">
            <button 
              type="button"
              (click)="useCurrentLocation()"
              [disabled]="isLoadingLocation"
              class="current-location-btn"
              title="Use current location">
              <svg *ngIf="!isLoadingLocation" class="current-location-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
              </svg>
              <div *ngIf="isLoadingLocation" class="location-loading"></div>
            </button>
          </div>
        </div>

        <!-- Find Results Button -->
        <div class="form-field button-field">
          <button 
            type="button"
            (click)="searchTreatments()"
            class="find-results-btn">
            Find results
          </button>
        </div>

      </div>
    </div>

    <!-- Featured Logos -->
    <div class="featured-section">
      <p class="featured-text">As featured in</p>
      <div class="featured-logos">
        <div class="featured-logo">
          <img src="assets/images/mirror-logo.png" alt="The Mirror" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
          <span style="display: none;">The Mirror</span>
        </div>
        <div class="featured-logo">
          <img src="assets/images/telegraph-logo.png" alt="Telegraph" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
          <span style="display: none;">Telegraph</span>
        </div>
        <div class="featured-logo">
          <img src="assets/images/healthcare-logo.png" alt="Healthcare Weekly" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
          <span style="display: none;">Healthcare Weekly</span>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="stats-section">
      <div class="stat-item">
        <div class="stat-number">
          <svg class="stat-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
          </svg>
          <span class="number">18,000</span>
        </div>
        <p class="stat-label">Clinic locations</p>
      </div>
      
      <div class="stat-item">
        <div class="stat-number">
          <svg class="stat-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <span class="number">35+ Verified</span>
        </div>
        <p class="stat-label">Providers</p>
      </div>
      
      <div class="stat-item">
        <div class="stat-number">
          <svg class="stat-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path>
          </svg>
          <span class="number">300,000</span>
        </div>
        <p class="stat-label">Reviews</p>
      </div>
    </div>

  </div>
</section> 